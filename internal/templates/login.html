{{define "login"}}
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <span class="auth-emoji">üîê</span>
            <h2>Bon retour parmi nous !</h2>
            <p>Connectez-vous pour acc√©der √† votre compte</p>
        </div>

        {{if .error}}
        <div class="alert alert-error">
            <span class="alert-icon">‚ö†Ô∏è</span>
            <span>{{.error}}</span>
        </div>
        {{end}}

        <form action="/login" method="post" class="auth-form">
            <div class="form-group">
                <label for="email" class="form-label">
                    <span>üìß</span>
                    Adresse email
                </label>
                <input type="email" id="email" name="email" class="form-input" placeholder="vous@exemple.com" required
                    autocomplete="email">
            </div>

            <div class="form-group">
                <label for="password" class="form-label">
                    <span>üîë</span>
                    Mot de passe
                </label>
                <div class="password-input-wrapper">
                    <input type="password" id="password" name="password" class="form-input"
                        placeholder="Votre mot de passe" required autocomplete="current-password">
                    <button type="button" class="password-toggle" onclick="togglePassword()">
                        <span class="password-show">üëÅÔ∏è</span>
                        <span class="password-hide" style="display: none;">üôà</span>
                    </button>
                </div>
            </div>

            <div class="form-footer">
                <a href="#" class="forgot-password">Mot de passe oubli√© ?</a>
            </div>

            <button type="submit" class="btn btn-primary btn-login">
                <span>Se connecter</span>
                <span class="btn-icon">‚Üí</span>
            </button>
        </form>

        <div class="auth-separator">
            <span>ou</span>
        </div>

        <div class="auth-switch">
            <p>Pas encore de compte ?</p>
            <a href="/register" class="link-primary">
                <span>‚ú®</span>
                Cr√©er un compte gratuitement
            </a>
        </div>
    </div>
</div>

<script>
    function togglePassword() {
        const passwordInput = document.getElementById('password');
        const showIcon = document.querySelector('.password-show');
        const hideIcon = document.querySelector('.password-hide');

        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
            showIcon.style.display = 'none';
            hideIcon.style.display = 'inline';
        } else {
            passwordInput.type = 'password';
            showIcon.style.display = 'inline';
            hideIcon.style.display = 'none';
        }
    }
</script>
{{end}}